### Пузырьковая сортировка

_Пузырьковая сортировка (или иногда называют Сортировка пузырьком, bubble sort)_ - один из самых известных алгоритмов сортировки. Здесь последовательно сравниваются значения соседних элементов, и числа меняются местами, если предыдущее оказывается больше последующего. Таким образом элементы с большими значениями оказываются в конце списка, а с меньшими остаются в начале

#### Алгоритм
Сначала сравниваются первые два элемента списка. Если первый элемент больше второго, они меняются местами. Если элементы уже в нужном порядке, они остаются как есть. Затем необходимо перейти к следующей паре элементов, сравнить их значения и поменяем местами при необходимости. Этот процесс продолжается до последней пары элементов в списке.

При достижении конца списка процесс повторяется заново для каждого элемента. Это крайне неэффективно, если в массиве нужно сделать, например, только один обмен. Алгоритм повторяется n² раз, даже если список уже отсортирован.

Для оптимизации алгоритма нужно знать, когда его остановить, то есть когда список отсортирован.

Чтобы остановить алгоритм по окончанию сортировки, нужно ввести переменную-флаг. Когда значения меняются местами, флаг устанавливается в значение True, чтобы повторить процесс сортировки. Если перестановок не произошло, флаг остаётся False и алгоритм останавливается.

Алгоритм работает в цикле while и прерывается, когда элементы ни разу не меняются местами. Вначале swapped присваивается значение True, чтобы алгоритм запустился хотя бы один раз.


#### Время сортировки
Если взять самый худший случай (изначально список отсортирован по убыванию), затраты времени будут равны O(n²), где n - количество элементов списка.

Этот алгоритм считается учебным и почти не применяется на практике из-за низкой эффективности: он медленно работает на тестах, в которых маленькие элементы стоят в конце массива. Однако на нём основаны многие другие методы, например, _шейкерная сортировка_ и _сортировка расчёской_. Об этих алгоритмах будет написано далее.


<details>
<summary>Реализация на Python</summary>

```
def bubble_sort(nums):  
    # swapped установлен в True, чтобы цикл запустился хотя бы один раз
    swapped = True
    while swapped:
        swapped = False
        for i in range(len(nums) - 1):
            if nums[i] > nums[i + 1]:
                # Элементы меняются местами
                nums[i], nums[i + 1] = nums[i + 1], nums[i]
                # Устанавливаем swapped в True для следующей итерации
                swapped = True
    return nums
```

</details>

<details>
<summary>Реализация на Ruby</summary>

```
def bubble_sort(nums)
    # swapped установлен в true, чтобы цикл запустился хотя бы один раз
    swapped = true
    # определяется размер списка
    nums_length = nums.size
    while swapped
        swapped = false
        (nums_length - 1).times do |i|
            if nums[i] > nums[i + 1]
                # Элементы меняются местами
                nums[i], nums[i + 1] = nums[i + 1], nums[i]
                # Устанавливаем swapped в True для следующей итерации
                swapped = true
            end
        end
    end
    return nums
end
```

</details>

<details>
<summary>Реализация на R</summary>

```
bubble_sort <- function(nums) {
  # swapped установлен в TRUE, чтобы цикл запустился хотя бы один раз
  swapped <- TRUE
  
  while (swapped) {
    swapped <- FALSE
    
    for (i in 1:(length(nums) - 1)) {
      if (nums[i] > nums[i + 1]) {
        # Элементы меняются местами
        temp <- nums[i]
        nums[i] <- nums[i + 1]
        nums[i + 1] <- temp
        
        # Устанавливаем swapped в TRUE для следующей итерации
        swapped <- TRUE
      }
    }
  }
  
  return(nums)
}
```

</details>
